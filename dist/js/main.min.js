function deactivateCurrentMenuItem(){var e=document.querySelectorAll(".submenu-links-wrapper.expanded"),n=document.querySelectorAll(".submenu-extra-content-wrapper.active"),a=document.querySelectorAll(".submenu-section.active"),t=document.querySelectorAll(".submenu.expanded");if(n)for(var s=0;s<n.length;s++)n[s].classList.remove("active");if(e)for(s=0;s<e.length;s++)e[s].classList.remove("expanded");if(a)for(s=0;s<a.length;s++)a[s].classList.remove("active");if(t)for(s=0;s<t.length;s++)t[s].classList.remove("expanded")}function newsletterSubscribeAction(){let e=document.querySelector("form[id='5063243']");e&&e.addEventListener("submit",(function(n){if(n.preventDefault(),!e.checkValidity())return;let a=new FormData(e);return fetch(e.getAttribute("action"),{method:"POST",body:a}).then((function(e){if(!e.ok)throw new Error("HTTP error "+e.status);document.querySelector(".fe-block-yui_3_17_2_1_1685352218518_7911").style.display="none",document.querySelector(".newsletter-form-wrapper").outerHTML='<div class="quantgov-newsletters-signup-thank-you-section"><h1>Congratulations, you successfully signed up.</h1></div>'})).catch((function(){document.querySelector(".captchaHelp").textContent="Please fill the recaptcha checkbox to subscribe."})),!1}))}document.addEventListener("DOMContentLoaded",(function(){newsletterSubscribeAction();document.querySelector(".header-nav")&&(document.querySelector(".header-nav").innerHTML='\n  <nav class="mega-menu">\n        <div class="menu-container">\n            <ul class="menu-items">\n                <li class="submenu-parent">\n                    <a href="#">About</a>\n                    <div class="submenu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="/about">What is Quantgov</a>\n                            </div>\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="/our-work-in-action">Our work in action</a>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n\n                <li class="submenu-parent">\n                    <a href="#">Data</a>\n                    <div class="submenu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="https://www.reghub.ai/data/bulk">CSVs</a>\n                            </div>\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="https://www.reghub.ai/data/custom">Interactive\n                                    Downloader</a>\n                            </div>\n                            <div class="submenu-section" data-extra-details="submenu-section-apis">\n                                <p class="dropdown-nav-link">APIs <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                            <div class="submenu-section" data-extra-details="submenu-section-documentation">\n                                <p class="dropdown-nav-link">Documentation <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                        </div>\n\n                        <div class="submenu-extra-content-wrapper">\n                            <div class="submenu-extra-section-item" id="submenu-section-apis">\n                                <p class="style-1">Our APIs</p>\n                                <ul>\n                                    <li><a href="https://api.quantgov.org/swagger-ui.html">RegCensus API</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-python">Python API\n                                            Package</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-client-R">R API Package</a>\n                                    </li>\n                                    <li><a href="https://www.quantgov.org/api-python-library-full-tutorial">API Help\n                                            Guide</a></li>\n                                    <li><a\n                                            href="https://new-website-files.s3.amazonaws.com/Regcensus+API+Patch+2.1.pdf">Patch\n                                            Notes</a></li>\n                                </ul>\n                            </div>\n                            <div class="submenu-extra-section-item" id="submenu-section-documentation">\n                                <p class="style-1">Guides and Docs</p>\n                                <ul>\n                                    <li><a href="https://www.reghub.ai/guide">User\'s Guide</a></li>\n                                    <li><a href="https://www.reghub.ai/data/documentation">Series Info</a></li>\n                                    <li><a href="/documentation">Documentation</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        \x3c!-- Add more submenu-sections as needed --\x3e\n                    </div>\n                </li>\n                <li><a href="/visuals">Visuals</a></li>\n                <li><a href="/regcensus-explorer">State Snapshots</a></li>\n                <li class="submenu-parent" style="display:none;">\n                    <a href="#">AI-Readable Laws & Rules</a>\n                    <div class="submenu right-menu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section">\n                                <p class="style-1">Do more with QuantGov</p>\n                                <p class="misc">\n                                    Access pre-compiled downloads of cleaned text files and metadata. Or create your own\n                                    customized download of documents and data from tens of millions of legal documents\n                                    from around the world.\n                                </p>\n\n                                <div class="text-center">\n                                    <a class="btn-primary margin-top-50" href="#">Login for full access</a>\n                                    <a href="#" class="btn-secondary margin-top-25">Don\'t have an account? Sign up.</a>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="submenu-extra-content-wrapper">\n                            <div class="submenu-extra-section-item" id="submenu-section-apis">\n                                <p class="style-1">Our APIs</p>\n                                <ul>\n                                    <li><a href="https://api.quantgov.org/swagger-ui.html">RegCensus API</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-python">Python API\n                                            Package</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-client-R">R API Package</a>\n                                    </li>\n                                    <li><a href="https://www.quantgov.org/api-python-library-full-tutorial">API Help\n                                            Guide</a></li>\n                                    <li><a\n                                            href="https://new-website-files.s3.amazonaws.com/Regcensus+API+Patch+2.1.pdf">Patch\n                                            Notes</a></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n                <li class="submenu-parent">\n                    <a href="#">Get Involved</a>\n                    <div class="submenu right-menu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section" data-extra-details="submenu-section-join-research">\n                                <p class="dropdown-nav-link">Join Our Research <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                            <div class="submenu-section" data-extra-details="submenu-section-learn-nlp">\n                                <p class="dropdown-nav-link">Learn Natural Language Processing <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                        </div>\n\n                        <div class="submenu-extra-content-wrapper">\n                            <div class="submenu-extra-section-item" id="submenu-section-join-research">\n                                <p class="style-1">Policy Analytics Research Program</p>\n                                <div class="misc">\n                                    Cultivating research at the intersection of the social sciences, technology, and public policy.\n                                </div>\n                                <ul>\n                                    <li><a href="/policy-analytics-program">Program Overview</a></li>\n                                    <li><a href="/policy-research-program">Student Application</a></li>\n                                    <li><a href="/research-proposals">Research Proposal</a>\n                                    </li>\n                                </ul>\n                            </div>\n\n                            <div class="submenu-extra-section-item" id="submenu-section-learn-nlp">\n                                <p class="style-1">How to use the platform</p>\n                                <ul>\n                                    <li><a href="https://quantgov.github.io/quantgov-tutorial/pages/intro.html">Platform Tutorial</a></li>\n                                    <li><a href="https://quantgov-website-files.s3.amazonaws.com/file-backup/QuantGov-An-Overview.pdf">Platform Overview</a></li>\n                                    <li><a href="https://github.com/QuantGov/quantgov">Github Repository</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        \x3c!-- Add more submenu-sections as needed --\x3e\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </nav>\n',document.querySelector(".header-nav").style.display="block");var e=document.querySelectorAll(".submenu-section");for(var n=0;n<e.length;n++)e[n].addEventListener("mouseenter",(function(n){deactivateCurrentMenuItem();for(var a=n.currentTarget.getAttribute("data-extra-details"),t=0;t<e.length;t++)e[t].getAttribute("data-extra-details")!==a&&e[t].classList.remove("active");n.currentTarget.classList.add("active");for(var s=document.querySelectorAll(".submenu-extra-section-item"),i=0;i<s.length;i++)s[i].id!==a&&s[i].classList.remove("active");var r=document.getElementById(a);if(r&&r.classList.add("active"),r&&r.classList.contains("active")&&n.currentTarget.getAttribute("data-extra-details")){var l=n.currentTarget.closest(".submenu-links-wrapper"),u=n.currentTarget.closest(".submenu").querySelectorAll(".submenu-extra-content-wrapper")[0];u&&u.classList.add("active"),l&&l.classList.add("expanded"),n.currentTarget.closest(".submenu")&&n.currentTarget.closest(".submenu").classList.add("expanded")}else deactivateCurrentMenuItem()})),e[n].addEventListener("mouseleave",(function(e){}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJuYW1lcyI6WyJkZWFjdGl2YXRlQ3VycmVudE1lbnVJdGVtIiwiYWN0aXZlU3VibWVudUxpbmtzV3JhcHBlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFjdGl2ZVN1Ym1lbnVFeHRyYUNvbnRlbnRXcmFwcGVyIiwiYWN0aXZlU3VibWVudVNlY3Rpb24iLCJhY3RpdmVTdWJtZW51IiwiaSIsImxlbmd0aCIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm5ld3NsZXR0ZXJTdWJzY3JpYmVBY3Rpb24iLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGVja1ZhbGlkaXR5IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImZldGNoIiwiZ2V0QXR0cmlidXRlIiwibWV0aG9kIiwiYm9keSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdHlsZSIsImRpc3BsYXkiLCJvdXRlckhUTUwiLCJjYXRjaCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwic3VibWVudVNlY3Rpb25zIiwiZXh0cmFEZXRhaWxzSWQiLCJjdXJyZW50VGFyZ2V0IiwiayIsImFkZCIsImV4dHJhU2VjdGlvbkl0ZW1zIiwiaiIsImlkIiwidGFyZ2V0RWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbnMiLCJzdWJtZW51TGlua3NXcmFwcGVyIiwiY2xvc2VzdCIsImV4dHJhQ29udGVudFdyYXBwZXIiXSwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIC8vIEFkZCBzdWJzY3JpYmUgYWN0aW9uIHRvIHRoZSBzdWJzY3JpYmUgYnV0dG9uLlxuICBuZXdzbGV0dGVyU3Vic2NyaWJlQWN0aW9uKCk7XG4gIC8vIEFkZCBjdXN0b20gbG9naW4gd2hlbiB3aW5kb3cgbG9hZGVkIHVzaW5nIGphdmFzY3JpcHQgYW5kIHdpdGhvdXQgdXNpbmcgalF1ZXJ5LlxuICBjb25zdCBtZWdhTWVudSA9IGBcbiAgPG5hdiBjbGFzcz1cIm1lZ2EtbWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm1lbnUtaXRlbXNcIj5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJzdWJtZW51LXBhcmVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPkFib3V0PC9hPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtbGlua3Mtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1uYXYtbGlua1wiIGhyZWY9XCIvYWJvdXRcIj5XaGF0IGlzIFF1YW50Z292PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1uYXYtbGlua1wiIGhyZWY9XCIvb3VyLXdvcmstaW4tYWN0aW9uXCI+T3VyIHdvcmsgaW4gYWN0aW9uPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+XG5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJzdWJtZW51LXBhcmVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPkRhdGE8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1saW5rcy13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLW5hdi1saW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LnJlZ2h1Yi5haS9kYXRhL2J1bGtcIj5DU1ZzPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1uYXYtbGlua1wiIGhyZWY9XCJodHRwczovL3d3dy5yZWdodWIuYWkvZGF0YS9jdXN0b21cIj5JbnRlcmFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRG93bmxvYWRlcjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1zZWN0aW9uXCIgZGF0YS1leHRyYS1kZXRhaWxzPVwic3VibWVudS1zZWN0aW9uLWFwaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJkcm9wZG93bi1uYXYtbGlua1wiPkFQSXMgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1yaWdodFwiPjwvaT48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtc2VjdGlvblwiIGRhdGEtZXh0cmEtZGV0YWlscz1cInN1Ym1lbnUtc2VjdGlvbi1kb2N1bWVudGF0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIj5Eb2N1bWVudGF0aW9uIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLWNvbnRlbnQtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbVwiIGlkPVwic3VibWVudS1zZWN0aW9uLWFwaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzdHlsZS0xXCI+T3VyIEFQSXM8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9hcGkucXVhbnRnb3Yub3JnL3N3YWdnZXItdWkuaHRtbFwiPlJlZ0NlbnN1cyBBUEk8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL1F1YW50R292L3JlZ2NlbnN1cy1hcGktcHl0aG9uXCI+UHl0aG9uIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYWNrYWdlPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9RdWFudEdvdi9yZWdjZW5zdXMtYXBpLWNsaWVudC1SXCI+UiBBUEkgUGFja2FnZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3LnF1YW50Z292Lm9yZy9hcGktcHl0aG9uLWxpYnJhcnktZnVsbC10dXRvcmlhbFwiPkFQSSBIZWxwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEd1aWRlPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vbmV3LXdlYnNpdGUtZmlsZXMuczMuYW1hem9uYXdzLmNvbS9SZWdjZW5zdXMrQVBJK1BhdGNoKzIuMS5wZGZcIj5QYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlczwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbVwiIGlkPVwic3VibWVudS1zZWN0aW9uLWRvY3VtZW50YXRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzdHlsZS0xXCI+R3VpZGVzIGFuZCBEb2NzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3LnJlZ2h1Yi5haS9ndWlkZVwiPlVzZXIncyBHdWlkZTwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy5yZWdodWIuYWkvZGF0YS9kb2N1bWVudGF0aW9uXCI+U2VyaWVzIEluZm88L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiL2RvY3VtZW50YXRpb25cIj5Eb2N1bWVudGF0aW9uPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBBZGQgbW9yZSBzdWJtZW51LXNlY3Rpb25zIGFzIG5lZWRlZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIi92aXN1YWxzXCI+VmlzdWFsczwvYT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiL3JlZ2NlbnN1cy1leHBsb3JlclwiPlN0YXRlIFNuYXBzaG90czwvYT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInN1Ym1lbnUtcGFyZW50XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCI+QUktUmVhZGFibGUgTGF3cyAmIFJ1bGVzPC9hPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudSByaWdodC1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1saW5rcy13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInN0eWxlLTFcIj5EbyBtb3JlIHdpdGggUXVhbnRHb3Y8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibWlzY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXNzIHByZS1jb21waWxlZCBkb3dubG9hZHMgb2YgY2xlYW5lZCB0ZXh0IGZpbGVzIGFuZCBtZXRhZGF0YS4gT3IgY3JlYXRlIHlvdXIgb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21pemVkIGRvd25sb2FkIG9mIGRvY3VtZW50cyBhbmQgZGF0YSBmcm9tIHRlbnMgb2YgbWlsbGlvbnMgb2YgbGVnYWwgZG9jdW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIGFyb3VuZCB0aGUgd29ybGQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuLXByaW1hcnkgbWFyZ2luLXRvcC01MFwiIGhyZWY9XCIjXCI+TG9naW4gZm9yIGZ1bGwgYWNjZXNzPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ0bi1zZWNvbmRhcnkgbWFyZ2luLXRvcC0yNVwiPkRvbid0IGhhdmUgYW4gYWNjb3VudD8gU2lnbiB1cC48L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLWNvbnRlbnQtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbVwiIGlkPVwic3VibWVudS1zZWN0aW9uLWFwaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzdHlsZS0xXCI+T3VyIEFQSXM8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9hcGkucXVhbnRnb3Yub3JnL3N3YWdnZXItdWkuaHRtbFwiPlJlZ0NlbnN1cyBBUEk8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL1F1YW50R292L3JlZ2NlbnN1cy1hcGktcHl0aG9uXCI+UHl0aG9uIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYWNrYWdlPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9RdWFudEdvdi9yZWdjZW5zdXMtYXBpLWNsaWVudC1SXCI+UiBBUEkgUGFja2FnZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3LnF1YW50Z292Lm9yZy9hcGktcHl0aG9uLWxpYnJhcnktZnVsbC10dXRvcmlhbFwiPkFQSSBIZWxwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEd1aWRlPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vbmV3LXdlYnNpdGUtZmlsZXMuczMuYW1hem9uYXdzLmNvbS9SZWdjZW5zdXMrQVBJK1BhdGNoKzIuMS5wZGZcIj5QYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlczwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwic3VibWVudS1wYXJlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5HZXQgSW52b2x2ZWQ8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51IHJpZ2h0LW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWxpbmtzLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1zZWN0aW9uXCIgZGF0YS1leHRyYS1kZXRhaWxzPVwic3VibWVudS1zZWN0aW9uLWpvaW4tcmVzZWFyY2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJkcm9wZG93bi1uYXYtbGlua1wiPkpvaW4gT3VyIFJlc2VhcmNoIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIiBkYXRhLWV4dHJhLWRldGFpbHM9XCJzdWJtZW51LXNlY3Rpb24tbGVhcm4tbmxwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIj5MZWFybiBOYXR1cmFsIExhbmd1YWdlIFByb2Nlc3NpbmcgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1yaWdodFwiPjwvaT48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtZXh0cmEtY29udGVudC13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtZXh0cmEtc2VjdGlvbi1pdGVtXCIgaWQ9XCJzdWJtZW51LXNlY3Rpb24tam9pbi1yZXNlYXJjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInN0eWxlLTFcIj5Qb2xpY3kgQW5hbHl0aWNzIFJlc2VhcmNoIFByb2dyYW08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaXNjXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdWx0aXZhdGluZyByZXNlYXJjaCBhdCB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBzb2NpYWwgc2NpZW5jZXMsIHRlY2hub2xvZ3ksIGFuZCBwdWJsaWMgcG9saWN5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCIvcG9saWN5LWFuYWx5dGljcy1wcm9ncmFtXCI+UHJvZ3JhbSBPdmVydmlldzwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCIvcG9saWN5LXJlc2VhcmNoLXByb2dyYW1cIj5TdHVkZW50IEFwcGxpY2F0aW9uPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIi9yZXNlYXJjaC1wcm9wb3NhbHNcIj5SZXNlYXJjaCBQcm9wb3NhbDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1leHRyYS1zZWN0aW9uLWl0ZW1cIiBpZD1cInN1Ym1lbnUtc2VjdGlvbi1sZWFybi1ubHBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzdHlsZS0xXCI+SG93IHRvIHVzZSB0aGUgcGxhdGZvcm08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9xdWFudGdvdi5naXRodWIuaW8vcXVhbnRnb3YtdHV0b3JpYWwvcGFnZXMvaW50cm8uaHRtbFwiPlBsYXRmb3JtIFR1dG9yaWFsPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vcXVhbnRnb3Ytd2Vic2l0ZS1maWxlcy5zMy5hbWF6b25hd3MuY29tL2ZpbGUtYmFja3VwL1F1YW50R292LUFuLU92ZXJ2aWV3LnBkZlwiPlBsYXRmb3JtIE92ZXJ2aWV3PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9RdWFudEdvdi9xdWFudGdvdlwiPkdpdGh1YiBSZXBvc2l0b3J5PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBBZGQgbW9yZSBzdWJtZW51LXNlY3Rpb25zIGFzIG5lZWRlZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvbmF2PlxuYDtcblxuICAvLyBJZiBlbGVtZW50IHdpdGggY2xhc3MgJy5oZWFkZXItbmF2JyBleGlzdHMsIHJlcGxhY2UgaXQgd2l0aCBtZWdhTWVudS5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2JykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW5hdicpLmlubmVySFRNTCA9IG1lZ2FNZW51O1xuICAgIC8vIFNob3cgLmhlYWRlci1uYXYgZWxlbWVudCBhZnRlciByZXBsYWNpbmcgaXQgd2l0aCBtZWdhTWVudS5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW5hdicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9XG5cbiAvLyBHZXQgYWxsIHN1Ym1lbnUtc2VjdGlvbiBlbGVtZW50c1xudmFyIHN1Ym1lbnVTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LXNlY3Rpb24nKTtcblxuLy8gRnVuY3Rpb24gdG8gZGVhY3RpdmF0ZSBhY3RpdmUgbWVudXNcbmZ1bmN0aW9uIGRlYWN0aXZhdGVNZW51KGUpIHtcbiAgZGVhY3RpdmF0ZUN1cnJlbnRNZW51SXRlbSgpO1xuICB2YXIgZXh0cmFEZXRhaWxzSWQgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWV4dHJhLWRldGFpbHMnKTtcbiAgZm9yICh2YXIgayA9IDA7IGsgPCBzdWJtZW51U2VjdGlvbnMubGVuZ3RoOyBrKyspIHtcbiAgICBpZiAoc3VibWVudVNlY3Rpb25zW2tdLmdldEF0dHJpYnV0ZSgnZGF0YS1leHRyYS1kZXRhaWxzJykgIT09IGV4dHJhRGV0YWlsc0lkKSB7XG4gICAgICBzdWJtZW51U2VjdGlvbnNba10uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGV4dHJhU2VjdGlvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Ym1lbnUtZXh0cmEtc2VjdGlvbi1pdGVtJyk7XG4gIGZvciAodmFyIGogPSAwOyBqIDwgZXh0cmFTZWN0aW9uSXRlbXMubGVuZ3RoOyBqKyspIHtcbiAgICBpZiAoZXh0cmFTZWN0aW9uSXRlbXNbal0uaWQgIT09IGV4dHJhRGV0YWlsc0lkKSB7XG4gICAgICBleHRyYVNlY3Rpb25JdGVtc1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV4dHJhRGV0YWlsc0lkKTtcbiAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG5cbiAgdmFyIHN1Ym1lbnVMaW5rc1dyYXBwZXIgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnN1Ym1lbnUtbGlua3Mtd3JhcHBlcicpO1xuICB2YXIgZXh0cmFDb250ZW50V3JhcHBlciA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc3VibWVudScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LWV4dHJhLWNvbnRlbnQtd3JhcHBlcicpWzBdO1xuXG4gIGlmIChleHRyYUNvbnRlbnRXcmFwcGVyKSB7XG4gICAgZXh0cmFDb250ZW50V3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuXG4gIGlmIChzdWJtZW51TGlua3NXcmFwcGVyKSB7XG4gICAgc3VibWVudUxpbmtzV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpO1xuICB9XG5cbiAgaWYgKGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc3VibWVudScpKSB7XG4gICAgZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5zdWJtZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kZWQnKTtcbiAgfVxufVxuXG4vLyBMb29wIHRocm91Z2ggc3VibWVudS1zZWN0aW9uIGVsZW1lbnRzIGFuZCBhZGQgaG92ZXIgZXZlbnQgbGlzdGVuZXJzXG5mb3IgKHZhciBpID0gMDsgaSA8IHN1Ym1lbnVTZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICBzdWJtZW51U2VjdGlvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgZGVhY3RpdmF0ZUN1cnJlbnRNZW51SXRlbSgpO1xuICAgIC8vIEdldCBkYXRhLWV4dHJhLWRldGFpbHMgdmFsdWUgZnJvbSB0aGUgaG92ZXJlZCBzdWJtZW51LXNlY3Rpb25cbiAgICB2YXIgZXh0cmFEZXRhaWxzSWQgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWV4dHJhLWRldGFpbHMnKTtcbiAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIHRoZSBob3ZlcmVkIHN1Ym1lbnUtc2VjdGlvbiBhbmQgcmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBvdGhlciBzdWJtZW51LXNlY3Rpb24gZWxlbWVudHNcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHN1Ym1lbnVTZWN0aW9ucy5sZW5ndGg7IGsrKykge1xuICAgICAgaWYgKHN1Ym1lbnVTZWN0aW9uc1trXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXh0cmEtZGV0YWlscycpICE9PSBleHRyYURldGFpbHNJZCkge1xuICAgICAgICBzdWJtZW51U2VjdGlvbnNba10uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgc3VibWVudS1leHRyYS1zZWN0aW9uLWl0ZW0gZWxlbWVudHMgZXhjZXB0IHRoZSB0YXJnZXQgZWxlbWVudFxuICAgIHZhciBleHRyYVNlY3Rpb25JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbScpO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXh0cmFTZWN0aW9uSXRlbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChleHRyYVNlY3Rpb25JdGVtc1tqXS5pZCAhPT0gZXh0cmFEZXRhaWxzSWQpIHtcbiAgICAgICAgZXh0cmFTZWN0aW9uSXRlbXNbal0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyBvbiB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV4dHJhRGV0YWlsc0lkKTtcbiAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIG9uIHRoZSBzdWJtZW51LWV4dHJhLWNvbnRlbnQtd3JhcHBlciBlbGVtZW50XG4gICAgLy8gQW5kIHRhcmdldEVsZW1lbnQgaGFzIGF0dHJpYnV0ZSBkYXRhLWV4dHJhLWRldGFpbHMuXG4gICAgaWYgKHRhcmdldEVsZW1lbnQgJiYgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpICYmIGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXh0cmEtZGV0YWlscycpKSB7XG4gICAgICB2YXIgc3VibWVudUxpbmtzV3JhcHBlciA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc3VibWVudS1saW5rcy13cmFwcGVyJyk7XG4gICAgICB2YXIgZXh0cmFDb250ZW50V3JhcHBlciA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc3VibWVudScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LWV4dHJhLWNvbnRlbnQtd3JhcHBlcicpWzBdO1xuXG4gICAgICBpZiAoZXh0cmFDb250ZW50V3JhcHBlcikge1xuICAgICAgICBleHRyYUNvbnRlbnRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3VibWVudUxpbmtzV3JhcHBlcikge1xuICAgICAgICBzdWJtZW51TGlua3NXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2V4cGFuZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnN1Ym1lbnUnKSkge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnN1Ym1lbnUnKS5jbGFzc0xpc3QuYWRkKCdleHBhbmRlZCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWFjdGl2YXRlQ3VycmVudE1lbnVJdGVtKCk7XG4gICAgfVxuICB9KTtcblxuICBzdWJtZW51U2VjdGlvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgLy8gZGVhY3RpdmF0ZU1lbnUoZSk7XG4gIH0pO1xufVxuXG5cbn0pO1xuXG5mdW5jdGlvbiBkZWFjdGl2YXRlQ3VycmVudE1lbnVJdGVtKCkge1xuICB2YXIgYWN0aXZlU3VibWVudUxpbmtzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LWxpbmtzLXdyYXBwZXIuZXhwYW5kZWQnKTtcbiAgdmFyIGFjdGl2ZVN1Ym1lbnVFeHRyYUNvbnRlbnRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Ym1lbnUtZXh0cmEtY29udGVudC13cmFwcGVyLmFjdGl2ZScpO1xuICB2YXIgYWN0aXZlU3VibWVudVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3VibWVudS1zZWN0aW9uLmFjdGl2ZScpO1xuICB2YXIgYWN0aXZlU3VibWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LmV4cGFuZGVkJyk7XG5cbiAgaWYgKGFjdGl2ZVN1Ym1lbnVFeHRyYUNvbnRlbnRXcmFwcGVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVTdWJtZW51RXh0cmFDb250ZW50V3JhcHBlci5sZW5ndGg7IGkrKykge1xuICAgICAgYWN0aXZlU3VibWVudUV4dHJhQ29udGVudFdyYXBwZXJbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGl2ZVN1Ym1lbnVMaW5rc1dyYXBwZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVN1Ym1lbnVMaW5rc1dyYXBwZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFjdGl2ZVN1Ym1lbnVMaW5rc1dyYXBwZXJbaV0uY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kZWQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aXZlU3VibWVudVNlY3Rpb24pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVN1Ym1lbnVTZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhY3RpdmVTdWJtZW51U2VjdGlvbltpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aXZlU3VibWVudSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlU3VibWVudS5sZW5ndGg7IGkrKykge1xuICAgICAgYWN0aXZlU3VibWVudVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBuZXdzbGV0dGVyU3Vic2NyaWJlQWN0aW9uKCkge1xuICAvLyBSZXBsYWNlIHRoaXMgd2l0aCBhIHNlbGVjdG9yIHRvIHRoZSBmb3JtLlxuICBsZXQgZm9ybVNlbGVjdG9yID0gXCJmb3JtW2lkPSc1MDYzMjQzJ11cIjtcbiAgLy8gUmVwbGFjZSB0aGlzIHdpdGggdGhlIGVsZW1lbnQgeW91IG5lZWQgdG8gZGVsZXRlIGFuZCByZXBsYWNlIHdpdGggdGhlIHN1Y2Nlc3MgbWVzc2FnZS5cbiAgbGV0IGVsZW1lbnRUb1JlcGxhY2VBZnRlclN1Y2Nlc3MgPSBcIi5uZXdzbGV0dGVyLWZvcm0td3JhcHBlclwiO1xuICAvLyBSZXBsYWNlIHRoaXMgd2l0aCB0aGUgc3VjY2VzcyBtYXNzYWdlIGh0bWwgbWFya3VwLlxuICBsZXQgZWxlbWVudFJlcGxhY2VXaXRoID0gJzxkaXYgY2xhc3M9XCJxdWFudGdvdi1uZXdzbGV0dGVycy1zaWdudXAtdGhhbmsteW91LXNlY3Rpb25cIj48aDE+Q29uZ3JhdHVsYXRpb25zLCB5b3Ugc3VjY2Vzc2Z1bGx5IHNpZ25lZCB1cC48L2gxPjwvZGl2Pic7XG5cbiAgbGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XG5cbiAgaWYgKGZvcm0pIHtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgLy8gSWYgZm9ybSBpcyBub3QgdmFsaWQsIHJldHVybiBlYXJseSB0byBwcmV2ZW50IHNlbmRpbmcgdGhlIGZldGNoIHJlcXVlc3RcbiAgICAgIGlmICghZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG5cbiAgICAgIGZldGNoKGZvcm0uZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhUVFAgZXJyb3IgXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBIaWRlIGVsZW1lbnQgd2l0aCBjbGFzcyAuZmUtYmxvY2steXVpXzNfMTdfMl8xXzE2ODUzNTIyMTg1MThfNzkxMVxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZS1ibG9jay15dWlfM18xN18yXzFfMTY4NTM1MjIxODUxOF83OTExJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRUb1JlcGxhY2VBZnRlclN1Y2Nlc3MpLm91dGVySFRNTCA9IGVsZW1lbnRSZXBsYWNlV2l0aDtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FwdGNoYUhlbHAnKS50ZXh0Q29udGVudCA9ICdQbGVhc2UgZmlsbCB0aGUgcmVjYXB0Y2hhIGNoZWNrYm94IHRvIHN1YnNjcmliZS4nO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiQUFvUUEsU0FBU0EsNEJBQ1AsSUFBSUMsRUFBNEJDLFNBQVNDLGlCQUFpQixtQ0FDdERDLEVBQW1DRixTQUFTQyxpQkFBaUIseUNBQzdERSxFQUF1QkgsU0FBU0MsaUJBQWlCLDJCQUNqREcsRUFBZ0JKLFNBQVNDLGlCQUFpQixxQkFFOUMsR0FBSUMsRUFDRixJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSUgsRUFBaUNJLE9BQVFELElBQzNESCxFQUFpQ0csR0FBR0UsVUFBVUMsT0FBTyxVQUl6RCxHQUFJVCxFQUNGLElBQVNNLEVBQUksRUFBR0EsRUFBSU4sRUFBMEJPLE9BQVFELElBQ3BETixFQUEwQk0sR0FBR0UsVUFBVUMsT0FBTyxZQUlsRCxHQUFJTCxFQUNGLElBQVNFLEVBQUksRUFBR0EsRUFBSUYsRUFBcUJHLE9BQVFELElBQy9DRixFQUFxQkUsR0FBR0UsVUFBVUMsT0FBTyxVQUk3QyxHQUFJSixFQUNGLElBQVNDLEVBQUksRUFBR0EsRUFBSUQsRUFBY0UsT0FBUUQsSUFDeENELEVBQWNDLEdBQUdFLFVBQVVDLE9BQU8sV0FHeEMsQ0FFQSxTQUFTQyw0QkFFUCxJQU1JQyxFQUFPVixTQUFTVyxjQU5ELHNCQVFmRCxHQUNGQSxFQUFLRSxpQkFBaUIsVUFBVSxTQUFVQyxHQUl4QyxHQUhBQSxFQUFFQyxrQkFHR0osRUFBS0ssZ0JBQ1IsT0FHRixJQUFJQyxFQUFXLElBQUlDLFNBQVNQLEdBa0I1QixPQWhCQVEsTUFBTVIsRUFBS1MsYUFBYSxVQUFXLENBQ2pDQyxPQUFRLE9BQ1JDLEtBQU1MLElBRUxNLE1BQUssU0FBVUMsR0FDZCxJQUFLQSxFQUFTQyxHQUNaLE1BQU0sSUFBSUMsTUFBTSxjQUFnQkYsRUFBU0csUUFHM0MxQixTQUFTVyxjQUFjLDZDQUE2Q2dCLE1BQU1DLFFBQVUsT0FDcEY1QixTQUFTVyxjQTNCa0IsNEJBMkIwQmtCLFVBekJwQyx3SEEwQm5CLElBQ0NDLE9BQU0sV0FDTDlCLFNBQVNXLGNBQWMsZ0JBQWdCb0IsWUFBYyxrREFDdkQsS0FFSyxDQUNULEdBRUosQ0EzVUEvQixTQUFTWSxpQkFBaUIsb0JBQW9CLFdBRTVDSCw0QkF5SklULFNBQVNXLGNBQWMsaUJBQ3pCWCxTQUFTVyxjQUFjLGVBQWVxQixVQXhKdkIsbWpTQTBKZmhDLFNBQVNXLGNBQWMsZUFBZWdCLE1BQU1DLFFBQVUsU0FJMUQsSUFBSUssRUFBa0JqQyxTQUFTQyxpQkFBaUIsb0JBeUNoRCxJQUFLLElBQUlJLEVBQUksRUFBR0EsRUFBSTRCLEVBQWdCM0IsT0FBUUQsSUFDMUM0QixFQUFnQjVCLEdBQUdPLGlCQUFpQixjQUFjLFNBQVVDLEdBQzFEZiw0QkFJQSxJQUZBLElBQUlvQyxFQUFpQnJCLEVBQUVzQixjQUFjaEIsYUFBYSxzQkFFekNpQixFQUFJLEVBQUdBLEVBQUlILEVBQWdCM0IsT0FBUThCLElBQ3RDSCxFQUFnQkcsR0FBR2pCLGFBQWEsd0JBQTBCZSxHQUM1REQsRUFBZ0JHLEdBQUc3QixVQUFVQyxPQUFPLFVBR3hDSyxFQUFFc0IsY0FBYzVCLFVBQVU4QixJQUFJLFVBSTlCLElBREEsSUFBSUMsRUFBb0J0QyxTQUFTQyxpQkFBaUIsK0JBQ3pDc0MsRUFBSSxFQUFHQSxFQUFJRCxFQUFrQmhDLE9BQVFpQyxJQUN4Q0QsRUFBa0JDLEdBQUdDLEtBQU9OLEdBQzlCSSxFQUFrQkMsR0FBR2hDLFVBQVVDLE9BQU8sVUFLMUMsSUFBSWlDLEVBQWdCekMsU0FBUzBDLGVBQWVSLEdBTzVDLEdBTklPLEdBQ0ZBLEVBQWNsQyxVQUFVOEIsSUFBSSxVQUsxQkksR0FBaUJBLEVBQWNsQyxVQUFVb0MsU0FBUyxXQUFhOUIsRUFBRXNCLGNBQWNoQixhQUFhLHNCQUF1QixDQUNySCxJQUFJeUIsRUFBc0IvQixFQUFFc0IsY0FBY1UsUUFBUSwwQkFDOUNDLEVBQXNCakMsRUFBRXNCLGNBQWNVLFFBQVEsWUFBWTVDLGlCQUFpQixrQ0FBa0MsR0FFN0c2QyxHQUNGQSxFQUFvQnZDLFVBQVU4QixJQUFJLFVBR2hDTyxHQUNGQSxFQUFvQnJDLFVBQVU4QixJQUFJLFlBR2hDeEIsRUFBRXNCLGNBQWNVLFFBQVEsYUFDMUJoQyxFQUFFc0IsY0FBY1UsUUFBUSxZQUFZdEMsVUFBVThCLElBQUksV0FFdEQsTUFDRXZDLDJCQUVKLElBRUFtQyxFQUFnQjVCLEdBQUdPLGlCQUFpQixjQUFjLFNBQVVDLEdBRTVELEdBSUYifQ==
