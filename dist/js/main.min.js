function deactivateCurrentMenuItem(){var e=document.querySelectorAll(".submenu-links-wrapper.expanded"),n=document.querySelectorAll(".submenu-extra-content-wrapper.active"),t=document.querySelectorAll(".submenu-section.active"),a=document.querySelectorAll(".submenu.expanded");if(n)for(var s=0;s<n.length;s++)n[s].classList.remove("active");if(e)for(s=0;s<e.length;s++)e[s].classList.remove("expanded");if(t)for(s=0;s<t.length;s++)t[s].classList.remove("active");if(a)for(s=0;s<a.length;s++)a[s].classList.remove("expanded")}function newsletterSubscribeAction(){let e=document.querySelector("form[id='5063243']");e.addEventListener("submit",(function(n){if(n.preventDefault(),!e.checkValidity())return;let t=new FormData(e);return fetch(e.getAttribute("action"),{method:"POST",body:t}).then((function(e){if(!e.ok)throw new Error("HTTP error "+e.status);document.querySelector(".fe-block-yui_3_17_2_1_1685352218518_7911").style.display="none",document.querySelector(".newsletter-form-wrapper").outerHTML='<div class="quantgov-newsletters-signup-thank-you-section"><h1>Congratulations, you successfully signed up.</h1></div>'})).catch((function(){document.querySelector(".captchaHelp").textContent="Please fill the recaptcha checkbox to subscribe."})),!1}))}document.addEventListener("DOMContentLoaded",(function(){newsletterSubscribeAction();document.querySelector(".header-nav")&&(document.querySelector(".header-nav").innerHTML='\n  <nav class="mega-menu">\n        <div class="menu-container">\n            <ul class="menu-items">\n                <li class="submenu-parent">\n                    <a href="#">About</a>\n                    <div class="submenu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="/about">What is Quantgov</a>\n                            </div>\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="/our-work-in-action">Our work in action</a>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n\n                <li class="submenu-parent">\n                    <a href="#">Data</a>\n                    <div class="submenu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="https://www.reghub.ai/data/bulk">CSVs</a>\n                            </div>\n                            <div class="submenu-section">\n                                <a class="dropdown-nav-link" href="https://www.reghub.ai/data/custom">Interactive\n                                    Downloader</a>\n                            </div>\n                            <div class="submenu-section" data-extra-details="submenu-section-apis">\n                                <p class="dropdown-nav-link">APIs <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                            <div class="submenu-section" data-extra-details="submenu-section-documentation">\n                                <p class="dropdown-nav-link">Documentation <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                        </div>\n\n                        <div class="submenu-extra-content-wrapper">\n                            <div class="submenu-extra-section-item" id="submenu-section-apis">\n                                <p class="style-1">Our APIs</p>\n                                <ul>\n                                    <li><a href="https://api.quantgov.org/swagger-ui.html">RegCensus API</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-python">Python API\n                                            Package</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-client-R">R API Package</a>\n                                    </li>\n                                    <li><a href="https://www.quantgov.org/api-python-library-full-tutorial">API Help\n                                            Guide</a></li>\n                                    <li><a\n                                            href="https://new-website-files.s3.amazonaws.com/Regcensus+API+Patch+2.1.pdf">Patch\n                                            Notes</a></li>\n                                </ul>\n                            </div>\n                            <div class="submenu-extra-section-item" id="submenu-section-documentation">\n                                <p class="style-1">Guides and Docs</p>\n                                <ul>\n                                    <li><a href="https://www.reghub.ai/guide">User\'s Guide</a></li>\n                                    <li><a href="https://www.reghub.ai/data/documentation">Series Info</a></li>\n                                    <li><a href="/documentation">Documentation</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        \x3c!-- Add more submenu-sections as needed --\x3e\n                    </div>\n                </li>\n                <li><a href="/visuals">Visuals</a></li>\n                <li><a href="/regcensus-explorer">State Snapshots</a></li>\n                <li class="submenu-parent" style="display:none;">\n                    <a href="#">AI-Readable Laws & Rules</a>\n                    <div class="submenu right-menu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section">\n                                <p class="style-1">Do more with QuantGov</p>\n                                <p class="misc">\n                                    Access pre-compiled downloads of cleaned text files and metadata. Or create your own\n                                    customized download of documents and data from tens of millions of legal documents\n                                    from around the world.\n                                </p>\n\n                                <div class="text-center">\n                                    <a class="btn-primary margin-top-50" href="#">Login for full access</a>\n                                    <a href="#" class="btn-secondary margin-top-25">Don\'t have an account? Sign up.</a>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="submenu-extra-content-wrapper">\n                            <div class="submenu-extra-section-item" id="submenu-section-apis">\n                                <p class="style-1">Our APIs</p>\n                                <ul>\n                                    <li><a href="https://api.quantgov.org/swagger-ui.html">RegCensus API</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-python">Python API\n                                            Package</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-client-R">R API Package</a>\n                                    </li>\n                                    <li><a href="https://www.quantgov.org/api-python-library-full-tutorial">API Help\n                                            Guide</a></li>\n                                    <li><a\n                                            href="https://new-website-files.s3.amazonaws.com/Regcensus+API+Patch+2.1.pdf">Patch\n                                            Notes</a></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n                <li class="submenu-parent">\n                    <a href="#">Get Involved</a>\n                    <div class="submenu right-menu">\n                        <div class="submenu-links-wrapper">\n                            <div class="submenu-section" data-extra-details="submenu-section-join-research">\n                                <p class="dropdown-nav-link">Join Our Research <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                            <div class="submenu-section" data-extra-details="submenu-section-learn-nlp">\n                                <p class="dropdown-nav-link">Learn Natural Language Processing <i class="fas fa-chevron-right"></i></p>\n                            </div>\n                        </div>\n\n                        <div class="submenu-extra-content-wrapper">\n                            <div class="submenu-extra-section-item" id="submenu-section-join-research">\n                                <p class="style-1">Policy Analytics Research Program</p>\n                                <div class="misc">\n                                    Cultivating research at the intersection of the social sciences, technology, and public policy.\n                                </div>\n                                <ul>\n                                    <li><a href="https://api.quantgov.org/swagger-ui.html">Program Overview</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-python">Student Application</a></li>\n                                    <li><a href="https://github.com/QuantGov/regcensus-api-client-R">Research Proposal</a>\n                                    </li>\n                                </ul>\n                            </div>\n\n                            <div class="submenu-extra-section-item" id="submenu-section-learn-nlp">\n                                <p class="style-1">How to use the platform</p>\n                                <ul>\n                                    <li><a href="https://quantgov.github.io/quantgov-tutorial/pages/intro.html">Platform Tutorial</a></li>\n                                    <li><a href="https://quantgov-website-files.s3.amazonaws.com/file-backup/QuantGov-An-Overview.pdf">Platform Overview</a></li>\n                                    <li><a href="https://github.com/QuantGov/quantgov">Github Repository</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        \x3c!-- Add more submenu-sections as needed --\x3e\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </nav>\n',document.querySelector(".header-nav").style.display="block");for(var e=document.querySelectorAll(".submenu-section"),n=0;n<e.length;n++)e[n].addEventListener("click",(function(n){deactivateCurrentMenuItem();for(var t=n.currentTarget.getAttribute("data-extra-details"),a=0;a<e.length;a++)e[a].getAttribute("data-extra-details")!==t&&e[a].classList.remove("active");n.currentTarget.classList.toggle("active");for(var s=document.querySelectorAll(".submenu-extra-section-item"),i=0;i<s.length;i++)s[i].id!==t&&s[i].classList.remove("active");var r=document.getElementById(t);if(r&&r.classList.toggle("active"),r&&r.classList.contains("active")&&n.currentTarget.getAttribute("data-extra-details")){var l=n.currentTarget.closest(".submenu-links-wrapper"),u=n.currentTarget.closest(".submenu").querySelectorAll(".submenu-extra-content-wrapper")[0];console.log(u),u&&u.classList.add("active"),l&&l.classList.add("expanded"),n.currentTarget.closest(".submenu")&&n.currentTarget.closest(".submenu").classList.add("expanded")}else deactivateCurrentMenuItem()}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJuYW1lcyI6WyJkZWFjdGl2YXRlQ3VycmVudE1lbnVJdGVtIiwiYWN0aXZlU3VibWVudUxpbmtzV3JhcHBlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFjdGl2ZVN1Ym1lbnVFeHRyYUNvbnRlbnRXcmFwcGVyIiwiYWN0aXZlU3VibWVudVNlY3Rpb24iLCJhY3RpdmVTdWJtZW51IiwiaSIsImxlbmd0aCIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm5ld3NsZXR0ZXJTdWJzY3JpYmVBY3Rpb24iLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGVja1ZhbGlkaXR5IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImZldGNoIiwiZ2V0QXR0cmlidXRlIiwibWV0aG9kIiwiYm9keSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdHlsZSIsImRpc3BsYXkiLCJvdXRlckhUTUwiLCJjYXRjaCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwic3VibWVudVNlY3Rpb25zIiwiZXh0cmFEZXRhaWxzSWQiLCJjdXJyZW50VGFyZ2V0IiwiayIsInRvZ2dsZSIsImV4dHJhU2VjdGlvbkl0ZW1zIiwiaiIsImlkIiwidGFyZ2V0RWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbnMiLCJzdWJtZW51TGlua3NXcmFwcGVyIiwiY2xvc2VzdCIsImV4dHJhQ29udGVudFdyYXBwZXIiLCJjb25zb2xlIiwibG9nIiwiYWRkIl0sInNvdXJjZXMiOlsibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAvLyBBZGQgc3Vic2NyaWJlIGFjdGlvbiB0byB0aGUgc3Vic2NyaWJlIGJ1dHRvbi5cbiAgbmV3c2xldHRlclN1YnNjcmliZUFjdGlvbigpO1xuICAvLyBBZGQgY3VzdG9tIGxvZ2luIHdoZW4gd2luZG93IGxvYWRlZCB1c2luZyBqYXZhc2NyaXB0IGFuZCB3aXRob3V0IHVzaW5nIGpRdWVyeS5cbiAgY29uc3QgbWVnYU1lbnUgPSBgXG4gIDxuYXYgY2xhc3M9XCJtZWdhLW1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtZW51LWl0ZW1zXCI+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwic3VibWVudS1wYXJlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5BYm91dDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWxpbmtzLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIiBocmVmPVwiL2Fib3V0XCI+V2hhdCBpcyBRdWFudGdvdjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIiBocmVmPVwiL291ci13b3JrLWluLWFjdGlvblwiPk91ciB3b3JrIGluIGFjdGlvbjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwic3VibWVudS1wYXJlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5EYXRhPC9hPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtbGlua3Mtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1uYXYtbGlua1wiIGhyZWY9XCJodHRwczovL3d3dy5yZWdodWIuYWkvZGF0YS9idWxrXCI+Q1NWczwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIiBocmVmPVwiaHR0cHM6Ly93d3cucmVnaHViLmFpL2RhdGEvY3VzdG9tXCI+SW50ZXJhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvd25sb2FkZXI8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtc2VjdGlvblwiIGRhdGEtZXh0cmEtZGV0YWlscz1cInN1Ym1lbnUtc2VjdGlvbi1hcGlzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIj5BUElzIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIiBkYXRhLWV4dHJhLWRldGFpbHM9XCJzdWJtZW51LXNlY3Rpb24tZG9jdW1lbnRhdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImRyb3Bkb3duLW5hdi1saW5rXCI+RG9jdW1lbnRhdGlvbiA8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9pPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1leHRyYS1jb250ZW50LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1leHRyYS1zZWN0aW9uLWl0ZW1cIiBpZD1cInN1Ym1lbnUtc2VjdGlvbi1hcGlzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwic3R5bGUtMVwiPk91ciBBUElzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vYXBpLnF1YW50Z292Lm9yZy9zd2FnZ2VyLXVpLmh0bWxcIj5SZWdDZW5zdXMgQVBJPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9RdWFudEdvdi9yZWdjZW5zdXMtYXBpLXB5dGhvblwiPlB5dGhvbiBBUElcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFja2FnZTwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vUXVhbnRHb3YvcmVnY2Vuc3VzLWFwaS1jbGllbnQtUlwiPlIgQVBJIFBhY2thZ2U8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy5xdWFudGdvdi5vcmcvYXBpLXB5dGhvbi1saWJyYXJ5LWZ1bGwtdHV0b3JpYWxcIj5BUEkgSGVscFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHdWlkZTwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9XCJodHRwczovL25ldy13ZWJzaXRlLWZpbGVzLnMzLmFtYXpvbmF3cy5jb20vUmVnY2Vuc3VzK0FQSStQYXRjaCsyLjEucGRmXCI+UGF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90ZXM8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1leHRyYS1zZWN0aW9uLWl0ZW1cIiBpZD1cInN1Ym1lbnUtc2VjdGlvbi1kb2N1bWVudGF0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwic3R5bGUtMVwiPkd1aWRlcyBhbmQgRG9jczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy5yZWdodWIuYWkvZ3VpZGVcIj5Vc2VyJ3MgR3VpZGU8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly93d3cucmVnaHViLmFpL2RhdGEvZG9jdW1lbnRhdGlvblwiPlNlcmllcyBJbmZvPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIi9kb2N1bWVudGF0aW9uXCI+RG9jdW1lbnRhdGlvbjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQWRkIG1vcmUgc3VibWVudS1zZWN0aW9ucyBhcyBuZWVkZWQgLS0+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCIvdmlzdWFsc1wiPlZpc3VhbHM8L2E+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIi9yZWdjZW5zdXMtZXhwbG9yZXJcIj5TdGF0ZSBTbmFwc2hvdHM8L2E+PC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJzdWJtZW51LXBhcmVudFwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPkFJLVJlYWRhYmxlIExhd3MgJiBSdWxlczwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUgcmlnaHQtbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtbGlua3Mtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzdHlsZS0xXCI+RG8gbW9yZSB3aXRoIFF1YW50R292PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1pc2NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY2VzcyBwcmUtY29tcGlsZWQgZG93bmxvYWRzIG9mIGNsZWFuZWQgdGV4dCBmaWxlcyBhbmQgbWV0YWRhdGEuIE9yIGNyZWF0ZSB5b3VyIG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9taXplZCBkb3dubG9hZCBvZiBkb2N1bWVudHMgYW5kIGRhdGEgZnJvbSB0ZW5zIG9mIG1pbGxpb25zIG9mIGxlZ2FsIGRvY3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSBhcm91bmQgdGhlIHdvcmxkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImJ0bi1wcmltYXJ5IG1hcmdpbi10b3AtNTBcIiBocmVmPVwiI1wiPkxvZ2luIGZvciBmdWxsIGFjY2VzczwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidG4tc2Vjb25kYXJ5IG1hcmdpbi10b3AtMjVcIj5Eb24ndCBoYXZlIGFuIGFjY291bnQ/IFNpZ24gdXAuPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1leHRyYS1jb250ZW50LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1leHRyYS1zZWN0aW9uLWl0ZW1cIiBpZD1cInN1Ym1lbnUtc2VjdGlvbi1hcGlzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwic3R5bGUtMVwiPk91ciBBUElzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vYXBpLnF1YW50Z292Lm9yZy9zd2FnZ2VyLXVpLmh0bWxcIj5SZWdDZW5zdXMgQVBJPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9RdWFudEdvdi9yZWdjZW5zdXMtYXBpLXB5dGhvblwiPlB5dGhvbiBBUElcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFja2FnZTwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vUXVhbnRHb3YvcmVnY2Vuc3VzLWFwaS1jbGllbnQtUlwiPlIgQVBJIFBhY2thZ2U8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy5xdWFudGdvdi5vcmcvYXBpLXB5dGhvbi1saWJyYXJ5LWZ1bGwtdHV0b3JpYWxcIj5BUEkgSGVscFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHdWlkZTwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9XCJodHRwczovL25ldy13ZWJzaXRlLWZpbGVzLnMzLmFtYXpvbmF3cy5jb20vUmVnY2Vuc3VzK0FQSStQYXRjaCsyLjEucGRmXCI+UGF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90ZXM8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInN1Ym1lbnUtcGFyZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCI+R2V0IEludm9sdmVkPC9hPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudSByaWdodC1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1saW5rcy13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Ym1lbnUtc2VjdGlvblwiIGRhdGEtZXh0cmEtZGV0YWlscz1cInN1Ym1lbnUtc2VjdGlvbi1qb2luLXJlc2VhcmNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZHJvcGRvd24tbmF2LWxpbmtcIj5Kb2luIE91ciBSZXNlYXJjaCA8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9pPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VibWVudS1zZWN0aW9uXCIgZGF0YS1leHRyYS1kZXRhaWxzPVwic3VibWVudS1zZWN0aW9uLWxlYXJuLW5scFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImRyb3Bkb3duLW5hdi1saW5rXCI+TGVhcm4gTmF0dXJhbCBMYW5ndWFnZSBQcm9jZXNzaW5nIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLWNvbnRlbnQtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbVwiIGlkPVwic3VibWVudS1zZWN0aW9uLWpvaW4tcmVzZWFyY2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzdHlsZS0xXCI+UG9saWN5IEFuYWx5dGljcyBSZXNlYXJjaCBQcm9ncmFtPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWlzY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VsdGl2YXRpbmcgcmVzZWFyY2ggYXQgdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgc29jaWFsIHNjaWVuY2VzLCB0ZWNobm9sb2d5LCBhbmQgcHVibGljIHBvbGljeS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9hcGkucXVhbnRnb3Yub3JnL3N3YWdnZXItdWkuaHRtbFwiPlByb2dyYW0gT3ZlcnZpZXc8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL1F1YW50R292L3JlZ2NlbnN1cy1hcGktcHl0aG9uXCI+U3R1ZGVudCBBcHBsaWNhdGlvbjwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vUXVhbnRHb3YvcmVnY2Vuc3VzLWFwaS1jbGllbnQtUlwiPlJlc2VhcmNoIFByb3Bvc2FsPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbVwiIGlkPVwic3VibWVudS1zZWN0aW9uLWxlYXJuLW5scFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInN0eWxlLTFcIj5Ib3cgdG8gdXNlIHRoZSBwbGF0Zm9ybTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3F1YW50Z292LmdpdGh1Yi5pby9xdWFudGdvdi10dXRvcmlhbC9wYWdlcy9pbnRyby5odG1sXCI+UGxhdGZvcm0gVHV0b3JpYWw8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9xdWFudGdvdi13ZWJzaXRlLWZpbGVzLnMzLmFtYXpvbmF3cy5jb20vZmlsZS1iYWNrdXAvUXVhbnRHb3YtQW4tT3ZlcnZpZXcucGRmXCI+UGxhdGZvcm0gT3ZlcnZpZXc8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL1F1YW50R292L3F1YW50Z292XCI+R2l0aHViIFJlcG9zaXRvcnk8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEFkZCBtb3JlIHN1Ym1lbnUtc2VjdGlvbnMgYXMgbmVlZGVkIC0tPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9uYXY+XG5gO1xuXG4gIC8vIElmIGVsZW1lbnQgd2l0aCBjbGFzcyAnLmhlYWRlci1uYXYnIGV4aXN0cywgcmVwbGFjZSBpdCB3aXRoIG1lZ2FNZW51LlxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1uYXYnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2JykuaW5uZXJIVE1MID0gbWVnYU1lbnU7XG4gICAgLy8gU2hvdyAuaGVhZGVyLW5hdiBlbGVtZW50IGFmdGVyIHJlcGxhY2luZyBpdCB3aXRoIG1lZ2FNZW51LlxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cblxuICAvLyBHZXQgYWxsIHN1Ym1lbnUtc2VjdGlvbiBlbGVtZW50c1xuICB2YXIgc3VibWVudVNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Ym1lbnUtc2VjdGlvbicpO1xuXG4gIC8vIExvb3AgdGhyb3VnaCBzdWJtZW51LXNlY3Rpb24gZWxlbWVudHMgYW5kIGFkZCBjbGljayBldmVudCBsaXN0ZW5lcnNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJtZW51U2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBzdWJtZW51U2VjdGlvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZGVhY3RpdmF0ZUN1cnJlbnRNZW51SXRlbSgpO1xuICAgICAgLy8gR2V0IGRhdGEtZXh0cmEtZGV0YWlscyB2YWx1ZSBmcm9tIHRoZSBjbGlja2VkIHN1Ym1lbnUtc2VjdGlvblxuICAgICAgdmFyIGV4dHJhRGV0YWlsc0lkID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1leHRyYS1kZXRhaWxzJyk7XG4gICAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIHRoZSBjbGlja2VkIHN1Ym1lbnUtc2VjdGlvbiBhbmQgcmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBvdGhlciBzdWJtZW51LXNlY3Rpb24gZWxlbWVudHNcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc3VibWVudVNlY3Rpb25zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIGlmIChzdWJtZW51U2VjdGlvbnNba10uZ2V0QXR0cmlidXRlKCdkYXRhLWV4dHJhLWRldGFpbHMnKSAhPT0gZXh0cmFEZXRhaWxzSWQpIHtcbiAgICAgICAgICBzdWJtZW51U2VjdGlvbnNba10uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblxuICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBzdWJtZW51LWV4dHJhLXNlY3Rpb24taXRlbSBlbGVtZW50cyBleGNlcHQgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICB2YXIgZXh0cmFTZWN0aW9uSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3VibWVudS1leHRyYS1zZWN0aW9uLWl0ZW0nKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXh0cmFTZWN0aW9uSXRlbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGV4dHJhU2VjdGlvbkl0ZW1zW2pdLmlkICE9PSBleHRyYURldGFpbHNJZCkge1xuICAgICAgICAgIGV4dHJhU2VjdGlvbkl0ZW1zW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvZ2dsZSBhY3RpdmUgY2xhc3Mgb24gdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV4dHJhRGV0YWlsc0lkKTtcbiAgICAgIGlmICh0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRvZ2dsZSBhY3RpdmUgY2xhc3Mgb24gdGhlIHN1Ym1lbnUtZXh0cmEtY29udGVudC13cmFwcGVyIGVsZW1lbnRcbiAgICAgIC8vIEFuZCB0YXJnZXRFbGVtZW50IGhhcyBhdHRyaWJ1dGUgZGF0YS1leHRyYS1kZXRhaWxzLlxuICAgICAgaWYgKHRhcmdldEVsZW1lbnQgJiYgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpICYmIGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXh0cmEtZGV0YWlscycpKSB7XG4gICAgICAgIHZhciBzdWJtZW51TGlua3NXcmFwcGVyID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5zdWJtZW51LWxpbmtzLXdyYXBwZXInKTtcbiAgICAgICAgdmFyIGV4dHJhQ29udGVudFdyYXBwZXIgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnN1Ym1lbnUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3VibWVudS1leHRyYS1jb250ZW50LXdyYXBwZXInKVswXTtcblxuICAgICAgICBjb25zb2xlLmxvZyhleHRyYUNvbnRlbnRXcmFwcGVyKTtcbiAgICAgICAgaWYgKGV4dHJhQ29udGVudFdyYXBwZXIpIHtcbiAgICAgICAgICBleHRyYUNvbnRlbnRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN1Ym1lbnVMaW5rc1dyYXBwZXIpIHtcbiAgICAgICAgICBzdWJtZW51TGlua3NXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2V4cGFuZGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5zdWJtZW51JykpIHtcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnN1Ym1lbnUnKS5jbGFzc0xpc3QuYWRkKCdleHBhbmRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWFjdGl2YXRlQ3VycmVudE1lbnVJdGVtKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufSk7XG5cbmZ1bmN0aW9uIGRlYWN0aXZhdGVDdXJyZW50TWVudUl0ZW0oKSB7XG4gIHZhciBhY3RpdmVTdWJtZW51TGlua3NXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Ym1lbnUtbGlua3Mtd3JhcHBlci5leHBhbmRlZCcpO1xuICB2YXIgYWN0aXZlU3VibWVudUV4dHJhQ29udGVudFdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3VibWVudS1leHRyYS1jb250ZW50LXdyYXBwZXIuYWN0aXZlJyk7XG4gIHZhciBhY3RpdmVTdWJtZW51U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJtZW51LXNlY3Rpb24uYWN0aXZlJyk7XG4gIHZhciBhY3RpdmVTdWJtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Ym1lbnUuZXhwYW5kZWQnKTtcblxuICBpZiAoYWN0aXZlU3VibWVudUV4dHJhQ29udGVudFdyYXBwZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVN1Ym1lbnVFeHRyYUNvbnRlbnRXcmFwcGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhY3RpdmVTdWJtZW51RXh0cmFDb250ZW50V3JhcHBlcltpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aXZlU3VibWVudUxpbmtzV3JhcHBlcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlU3VibWVudUxpbmtzV3JhcHBlci5sZW5ndGg7IGkrKykge1xuICAgICAgYWN0aXZlU3VibWVudUxpbmtzV3JhcHBlcltpXS5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChhY3RpdmVTdWJtZW51U2VjdGlvbikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlU3VibWVudVNlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFjdGl2ZVN1Ym1lbnVTZWN0aW9uW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChhY3RpdmVTdWJtZW51KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVTdWJtZW51Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhY3RpdmVTdWJtZW51W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2V4cGFuZGVkJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG5ld3NsZXR0ZXJTdWJzY3JpYmVBY3Rpb24oKSB7XG4gIC8vIFJlcGxhY2UgdGhpcyB3aXRoIGEgc2VsZWN0b3IgdG8gdGhlIGZvcm0uXG4gIGxldCBmb3JtU2VsZWN0b3IgPSBcImZvcm1baWQ9JzUwNjMyNDMnXVwiO1xuICAvLyBSZXBsYWNlIHRoaXMgd2l0aCB0aGUgZWxlbWVudCB5b3UgbmVlZCB0byBkZWxldGUgYW5kIHJlcGxhY2Ugd2l0aCB0aGUgc3VjY2VzcyBtZXNzYWdlLlxuICBsZXQgZWxlbWVudFRvUmVwbGFjZUFmdGVyU3VjY2VzcyA9IFwiLm5ld3NsZXR0ZXItZm9ybS13cmFwcGVyXCI7XG4gIC8vIFJlcGxhY2UgdGhpcyB3aXRoIHRoZSBzdWNjZXNzIG1hc3NhZ2UgaHRtbCBtYXJrdXAuXG4gIGxldCBlbGVtZW50UmVwbGFjZVdpdGggPSAnPGRpdiBjbGFzcz1cInF1YW50Z292LW5ld3NsZXR0ZXJzLXNpZ251cC10aGFuay15b3Utc2VjdGlvblwiPjxoMT5Db25ncmF0dWxhdGlvbnMsIHlvdSBzdWNjZXNzZnVsbHkgc2lnbmVkIHVwLjwvaDE+PC9kaXY+JztcblxuICBsZXQgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcblxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBJZiBmb3JtIGlzIG5vdCB2YWxpZCwgcmV0dXJuIGVhcmx5IHRvIHByZXZlbnQgc2VuZGluZyB0aGUgZmV0Y2ggcmVxdWVzdFxuICAgIGlmICghZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG5cbiAgICBmZXRjaChmb3JtLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIVFRQIGVycm9yIFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIaWRlIGVsZW1lbnQgd2l0aCBjbGFzcyAuZmUtYmxvY2steXVpXzNfMTdfMl8xXzE2ODUzNTIyMTg1MThfNzkxMVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmUtYmxvY2steXVpXzNfMTdfMl8xXzE2ODUzNTIyMTg1MThfNzkxMScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudFRvUmVwbGFjZUFmdGVyU3VjY2Vzcykub3V0ZXJIVE1MID0gZWxlbWVudFJlcGxhY2VXaXRoO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXB0Y2hhSGVscCcpLnRleHRDb250ZW50ID0gJ1BsZWFzZSBmaWxsIHRoZSByZWNhcHRjaGEgY2hlY2tib3ggdG8gc3Vic2NyaWJlLic7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59Il0sIm1hcHBpbmdzIjoiQUEwTkEsU0FBU0EsNEJBQ1AsSUFBSUMsRUFBNEJDLFNBQVNDLGlCQUFpQixtQ0FDdERDLEVBQW1DRixTQUFTQyxpQkFBaUIseUNBQzdERSxFQUF1QkgsU0FBU0MsaUJBQWlCLDJCQUNqREcsRUFBZ0JKLFNBQVNDLGlCQUFpQixxQkFFOUMsR0FBSUMsRUFDRixJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSUgsRUFBaUNJLE9BQVFELElBQzNESCxFQUFpQ0csR0FBR0UsVUFBVUMsT0FBTyxVQUl6RCxHQUFJVCxFQUNGLElBQVNNLEVBQUksRUFB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
